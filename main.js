!function(){const e=require("path"),{app:n,BrowserWindow:o,ipcMain:t}=require("electron"),{getRandomNumberBetween:s}=require("./preload/util.js");let l=null,r=!1;const a=process.argv.includes("headless")||process.argv.includes("--headless");n.on("window-all-closed",function(){n.quit()}),n.on("ready",function(){(l=new o({title:"Fuck 学习强国",width:1e3,height:600,show:!1,icon:e.join(__dirname,"logo.png"),webPreferences:{nodeIntegration:!1,webSecurity:!a,preload:e.join(__dirname,"preload/preload.js")}})).setMenu(null),l.webContents.setUserAgent("Mozilla/5.0 AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0 Safari/537.36"),l.loadURL("https://www.xuexi.cn/"),l.once("ready-to-show",()=>{l.show()}),l.on("closed",()=>{l=null}),l.webContents.on("new-window",(e,n)=>{e.preventDefault(),l.webContents.loadURL(n)}),l.webContents.setAudioMuted(!0),setInterval(async()=>{await new Promise(e=>{setTimeout(()=>{e()},1e3*s(0,2e3))}),r||l.webContents.reload()},864e5)}),t.on("lock",()=>{r=!0}),t.on("unlock",()=>{r=!1}),t.on("islocked",e=>{e.returnValue=r});let i=[];t.on("tasks-getAll",e=>{e.returnValue=i}),t.on("tasks-set",(e,n)=>{i=n}),t.on("tasks-add",(e,...n)=>{console.log(n),i.push(...n)}),t.on("isHeadless",e=>{e.returnValue=a}),t.on("log",(e,...n)=>{console.log(...n)})}();